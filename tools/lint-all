#!/usr/bin/env python3
import argparse
import sys

from zulint.command import LinterConfig, add_default_linter_arguments


EXCLUDED_FILES = []

def run() -> None:
    parser = argparse.ArgumentParser()
    add_default_linter_arguments(parser)
    args = parser.parse_args()

    linter_config = LinterConfig(args)

    linter_config.external_linter('isort', ['./tools/run-isort-check'], pass_targets=False,
                                  description="Import order checker (config: setup.cfg)")
    linter_config.external_linter('mypy', [sys.executable, 'tools/run-mypy'], pass_targets=False,
                                  description="Static type checker for Python (config: mypy.ini)")
    linter_config.external_linter('flake8', 'flake8 zulipterminal/ tests/ setup.py'.split(),
                                  description="Standard Python linter (config: setup.cfg)")


    linter_config.do_lint()

if __name__ == '__main__':
    run()
